* DONE styling like org mode, text, with TODO/DONE label, and strikethrough
CLOSED: [2025-08-29 fr. 22:58]
* DONE showing brackets and count of children finished
CLOSED: [2025-08-29 fr. 23:05]
* DONE redo keyboard shortcuts to use single letter: t, a, s, ..
CLOSED: [2025-08-30 Sat 08:45]
https://chatgpt.com/c/68b204d9-610c-8332-86c8-1617eb94f38f

* DONE allow renaming inline
CLOSED: [2025-08-30 Sat 08:55]
* DONE shift+arrows left/right should also cycle state
CLOSED: [2025-08-30 Sat 08:59]
* DONE allow having no TODO label, just use as grouping header
CLOSED: [2025-08-30 Sat 08:59]
Would still have a perma
* DONE schedule
CLOSED: [2025-08-30 Sat 13:44]
- [X] "s" adds and emits event
- [X] some thing on hover that you can click
- [X] on schedule shows calendar for selection
- [X] styling the schedule label
* DONE assigned
CLOSED: [2025-08-30 Sat 13:44]
- [X] "a" adds and emits event
- [X] some thing on hover that you can click
- [X] on assign shows dropdown with options
- [X] styling the assign label
* DONE tags
CLOSED: [2025-08-30 Sat 13:44]
- [X] "t" adds and emits event (change to use only space and shift+arrows for state change)
- [X] some thing on hover that you can click
- [X] on assign shows dropdown with options
- [X] styling the tags label
* DONE setting priority, not A B C - just marked as priority. Either with A, or some star
CLOSED: [2025-08-30 Sat 14:03]
* DONE spacing for nested children
CLOSED: [2025-08-30 Sat 16:04]
* DONE add visual indicator on hover the meta labels, indicating that they are clickable
CLOSED: [2025-08-30 Sat 16:38]
* DONE change "schedule" to "due on"
CLOSED: [2025-08-30 Sat 16:38]
changing key from "s" to "d"
* DONE add "on hold" state, as an additional tag in front of the state label
CLOSED: [2025-08-30 Sat 16:38]
Toggle on key "h", or click meta label "on hold
* DONE add a button to enable edit state, should only show on hover
CLOSED: [2025-08-30 Sat 16:38] DEADLINE: <2025-08-30 Sat> SCHEDULED: <2025-08-30 Sat>
* DONE need a single key to cycle expand collapse
CLOSED: [2025-08-30 Sat 15:56] SCHEDULED: <2025-08-29 fr.>
* DONE create new input at the bottom, behind subtle link button
CLOSED: [2025-08-30 Sat 15:55]
* DONE allow entries without TODO
CLOSED: [2025-08-30 Sat 15:55]
* DONE alt enter to add new todo
CLOSED: [2025-08-30 Sat 15:55]
* DONE shift+arrow up/down cycles priority - do I want this?
CLOSED: [2025-08-30 Sat 15:55]
* DONE shift+arrow left/right cycles todo state, or click on label
CLOSED: [2025-08-30 Sat 15:55]
* DONE tags?
CLOSED: [2025-08-30 Sat 15:55]
* DONE make DONE state have a strikethrough everything, not just the text: done label, text, any meta labels - the entire todo has a strikethrough
CLOSED: [2025-08-30 Sat 16:44]
* DONE make todos into anchor tags, giving them a url they navigate to on Enter or click (if not clicking on any element on top, meta labels)
CLOSED: [2025-08-30 Sat 17:06]
Possible to create some dummy second html to navigate to for now, locally from examples.html to show something?
* DONE enter or click on todo navigates to the todo
CLOSED: [2025-08-30 Sat 17:09]
* DONE move script to create new into todo-list.js
CLOSED: [2025-08-30 Sat 17:59]
* DONE centered layout does not work as I intended
CLOSED: [2025-08-30 Sat 18:10]
* DONE remove bold for "heading"
CLOSED: [2025-08-30 Sat 19:28]
* DONE schedule jank, can't select unless using calendar, should be able to select by going through day/month/year by keyboard + enter
CLOSED: [2025-08-30 Sat 19:41]
Quits when I hit up or down arrow, or try to enter any number where there's focus. Enter does nothing. Cancel works as expected.
* DONE jank around popup for tags, assigned
CLOSED: [2025-08-30 Sat 20:09]
- text input box is slightly too big for the popup, red border extending outside
- the existing value should be shown by default, e.g. you have tags "a" and "b", these should be in the input when you open the popup
* DONE use brackets to convery keyboard shortcut, e.g. "[a]ssign", "[d]ue on", [SPC]DONE
CLOSED: [2025-08-30 Sat 20:30]
* DONE selection among options for assignment, selection among or create new for tag
CLOSED: [2025-08-30 Sat 20:48]
* DONE supporting custom set of TODO status labels for processes
CLOSED: [2025-08-30 Sat 21:04]
User can define their own status labels, which if passed in will be used instead of the default TODO/DONE
* DONE can't remove existing tags or assignment now
CLOSED: [2025-08-30 Sat 21:05]
* DONE be able to clear a due on date
* DONE adding tests, how to unit test this well, encoding all the rules/features as tests?
CLOSED: [2025-08-31 Sun 07:51]
And how to run the tests?
* DONE some jank around the counter, does not work for grandparent?
CLOSED: [2025-08-31 Sun 08:27]
* DONE jank for DONE strikethrough for parent
CLOSED: [2025-08-31 Sun 08:33]
* DONE need a definition of incomplete vs complete status and use that instead of "DONE" to detect completed
Perhaps an object with label and if it's "end state" or not. Then count end states instead of label "DONE".
Change from input arg "statusLabels" to reflect the array of objects structure.
* DONE jank editing text for parent
CLOSED: [2025-08-31 Sun 08:47]
* DONE when hovering a child todo the parent todo also shows the metadata labels - can this be prevented, so that we only show the metadata for the todo you are hovering on?
CLOSED: [2025-08-31 Sun 09:01]
* DONE make the hover buttons be ordered such that any set value comes first, then the unset ones
CLOSED: [2025-08-31 Sun 09:07]
* DONE See what happens if trying several lists on the same page
CLOSED: [2025-08-31 Sun 09:47]
* DONE Support styling for light theme as well
CLOSED: [2025-08-31 Sun 09:57]
* DONE web component?
CLOSED: [2025-08-31 Sun 10:17]
* DONE Refactor naming of component, classes, events
CLOSED: [2025-08-31 Sun 16:09]
M*ake styling be very much scoped to the component, wrap in a unique classname
* DONE click to select, dblclick to edit, view hover item to navigate
CLOSED: [2025-08-31 Sun 17:23]
* DONE no background by default, inherit from parent.
CLOSED: [2025-08-31 Sun 17:34]
* DONE rename to "Outline"
CLOSED: [2025-08-31 Sun 17:52]
- package, filenames
- events
- css classes
- readme
* DONE move demo files to it's own /demos directory, remember to update all imports
CLOSED: [2025-08-31 Sun 18:09]
* DONE include the css in the web component, should not have to add import css file as well? Can we still have the customization?
CLOSED: [2025-08-31 Sun 19:24]
Can we expose only the web component - this is what the package provides. Don't expose the class, update readme accordingly.
* DONE even cleaner styling - what would it mean?
CLOSED: [2025-08-31 Sun 20:00]
- more spacing?
- other colors?
- color for the metadata labels, more distinct from the todo text
- work on colors for light theme - some not great
* DONE hide hover items with data when in edit mode
CLOSED: [2025-08-31 Sun 20:23]
* DONE give wc options for what features should be enabled: priority, on hold, due date, assign, tags (status, edit and open are non-customizable)
CLOSED: [2025-08-31 Sun 20:47]
* DONE change data-todos, to data-items
* DONE + add button should have less margin from list, and have some left padding
CLOSED: [2025-08-31 Sun 20:55]
* DONE github repo
CLOSED: [2025-08-31 Sun 21:26]
- needs a good, tight readme
- update package and web component name, "outline", wc "clarity-outline"
* DONE add delay before unset hover action items appear
CLOSED: [2025-09-01 Mon 08:06]
* DONE custom label with end state not rendered as end state when created from JSON
CLOSED: [2025-09-01 Mon 08:23]
* DONE fix so that when I hit key shortcut the hover buttons show
CLOSED: [2025-09-01 Mon 09:45]
* DONE change the class from TodoList to Outline
CLOSED: [2025-09-01 Mon 09:50]
* DONE feature to add note to item from outline
CLOSED: [2025-09-01 Mon 10:33]
:LOGBOOK:
- Note taken on [2025-09-01 Mon 08:59] \\
  testytest
:END:
New feature "note" with underline "n", keybinding "n". Opens a popup with a
textarea field to add data, buttons so save and cancel. Also saves on Enter,
cancels on Escape. Like the due on popup but with a textarea instead of date
selector. Emits event on save.
* DONE feature to remove item from outline
CLOSED: [2025-09-01 Mon 10:33]
New feature "remove" with underline "r", keybinding "r". Opens a popup with a
confirmation question "Remove?" and buttons "Remove" and "Cancel", which also
triggers by Enter and Escape.
* DONE default colors more subtle, completed items color gray? Something less vibrant than pink for TODOs.
CLOSED: [2025-09-01 Mon 10:48]
More elegant, toned down.
* DONE "open", "status", "edit", "remove" should come first - then others
CLOSED: [2025-09-01 Mon 11:02]
* DONE the child counter does not work initially if the parent does not have a status label
CLOSED: [2025-09-01 Mon 11:10]
When indenting, the counter is not shown if the parent is a "heading", that is it does not have a status label.
Even headings should have the counter for the number of children tasks.
It works if it first has a label like TODO, then I indent a child, and then remove the status label again.
* DONE blog post
CLOSED: [2025-09-01 Mon 13:58]
Let's see if cursor manages to create a new blog post for me with the js
included. Might need to do something besides hugo, this silent failing is the
worst.

- [X] draft
- [X] add github repo first
- [X] fix links in blog dark mode -> too dark
* DONE losing focus after interaction
CLOSED: [2025-09-01 Mon 15:20]
Potensielt lavthengende: etter sletting av punkt (r), mister jeg fokus. Hadde foretrukket å fokusere neste punkt — da kan jeg raskt slette flere
* DONE remove all demo/mock data from within component
CLOSED: [2025-09-01 Mon 15:25]
* DONE make usable mobile - flex hover actions
CLOSED: [2025-09-02 Tue 14:55]
* DONE change "on hold" to "blocked" and key "b"
CLOSED: [2025-09-02 Tue 15:31]
..freeing up "h" for vi style navigation
* DONE navigate with emacs and vi default bindings
CLOSED: [2025-09-02 Tue 22:15]
ctrl + npfb
hjkl
* DONE move item with emacs and vi default bindings
CLOSED: [2025-09-02 Tue 22:51]
alt + npfb
alt + hjkl
* DONE toggle expand/collapse hierarchy
CLOSED: [2025-01-27 Mon 15:30]
Confirmed with AI that alt + tab is a default for application switching on windows and some linux distros.
Implemented Alt+T (toggle) as alternative - much more intuitive and conflict-free.
* DONE alt + tab might be application switch in some Linux distros - problem
CLOSED: [2025-01-27 Mon 15:30]
Don't want to override Tab. Fixed by implementing Alt+T instead.
* DONE event "outline:navigate" should be renamed to "outline:open"
Update event and documentation. Refactor navigateToSoloView to be openItem, and the function should just emit the event.
* DONE double click should go to edit mode, not open
CLOSED: [2025-01-27 Mon 15:30]
Double-click now enters edit mode instead of opening the item in solo view.
* DONE status popup does not render current status
CLOSED: [2025-09-03 Wed 01:12]
* DONE shift + up/down to toggle priority
CLOSED: [2025-09-03 Wed 01:16]
* DONE notes popup must be bigger, or allow expansion when writing notes
CLOSED: [2025-09-03 Wed 01:32]
* DONE all the popups must open towards the center
CLOSED: [2025-09-03 Wed 11:55]
* DONE fix regression where the container now shows scroll instead of letting popups etc extend outside
CLOSED: [2025-09-03 Wed 12:02]
popups should freely extend beyond the container of the todo items.
* DONE make the popup highlight focused option color be darker for light mode
CLOSED: [2025-09-03 Wed 12:14]
* DONE supporting both scheduled and deadline dates
CLOSED: [2025-09-03 Wed 17:31]
"Due on" is deadline. Need to support "Schedule on" as well for events/meetings or "plan to begin work on".
Key shortcut "s" already used for "status". Could use "t" for that instead (+ Space)?
<2025-09-03 Wed 16:49> Going with "c" for calendar, and it's in "schedule".

- [X] update
- [X] update the order of the items so they read naturally.
- [X] update "dueDate" to "due"
* DONE support setting hours/minutes for due and schedule
CLOSED: [2025-09-03 Wed 18:14]
* DONE begin implementing agenda component here, might move to separate repo later - or not
CLOSED: [2025-09-06 Sat 21:26]
* DONE order of hover actions: schedule first, then due, then rest..
CLOSED: [2025-09-09 Tue 13:15]
..so it reads like: "Buy milk" on Sept 6
* DONE redo notes: should be two features: adding a comment, or add to worklog
CLOSED: [2025-09-10 Wed 12:31]
should be able to see comments and worklog right there?
* DONE trim down bloated examples.html etc
CLOSED: [2025-09-10 Wed 12:31]
* DONE ability to prevent actions - missing permissions to edit
CLOSED: [2025-09-10 Wed 12:51]
Tasks have an owner. Stopping editing if user is not owner. How to inform the user in the UI?
* DONE agenda view: list all tasks across projects
CLOSED: [2025-09-11 Thu 09:03]
* DONE agenda view: list day-scheduled/due tasks at the bottom
CLOSED: [2025-09-11 Thu 09:03]
* DONE agenda view: tasks that have schedule or due dates from the past and not completed should show at the bottom of the current day view
CLOSED: [2025-09-11 Thu 09:13]
It should be shown how many days over schedule and due they are.
* DONE agenda view: in the demo make the day view the default
CLOSED: [2025-09-11 Thu 10:22]
* DONE agenda view: show tasks in completed state in the agenda
CLOSED: [2025-09-11 Thu 10:22]
..showing timestamp when they were completed.
Even if they weren't scheduled/due.
We had this, perhaps it's only missing some example data. We need examples of tasks that have no schedule/due set, only completed, and those shall show.
* DONE agenda view: showing due tasks a few days in advance
CLOSED: [2025-09-11 Thu 10:22]
Tasks that are due within 3 days should show up in the bottom section of the current day view
* DONE extract task item to a separate web-component, allowing use from both agenda and outline?
CLOSED: [2025-09-12 Fri 10:05]
branch: refactoring
* DONE split up options props into separate props
CLOSED: [2025-09-12 Fri 10:06]
* DONE make all props by data-*, allowing datastar signal use
CLOSED: [2025-09-12 Fri 10:06]
* DONE may need additionals for mouse usage?
CLOSED: [2025-09-12 Fri 11:21]
..or is it sufficient with the hover + click "open"

Could also provide right click menus.
* DONE archiving an item, instead of permanently removing?
CLOSED: [2025-09-12 Fri 11:47]
Useful for ongoing lists, local storage. Likely not that useful for the
project-oriented use case I envision in Clarity. But how do you get an archived item back? Out
of scope for the component. It would basically be the exact same as "remove",
but emit a different event, allowing different persistence functionality.

Perhaps we just replace "Remove" with "Archive" for now, still key "r" and underlined "r" in "archive".
* DONE space to set status as well?
CLOSED: [2025-09-12 Fri 11:51]
* DONE unify color usage for popups: borders, focus, selection - and fix broken dark mode
CLOSED: [2025-09-12 Fri 13:14]
There are different blues and grays used..
* DONE update blogpost js - dark mode is broken
CLOSED: [2025-09-12 Fri 13:16]
* DONE clicking in the comment or worklog popups closes them
CLOSED: [2025-09-12 Fri 14:37]
Clicking on a tag closes the popup. Would be best that clicking only toggles a tag. You click outside or hit Escape to close. Works as expected with Space or Enter, just toggling.
* DONE clicking status label console logs error
CLOSED: [2025-09-12 Fri 14:47]
outline.js:3803 Uncaught TypeError: this.isItemEditable is not a function
(anonymous)	@	outline.js:3803
* DONE "archive" popup does not open from the archive action button location like the others actions do
CLOSED: [2025-09-12 Fri 15:05]
* DONE bug: counter for nested parent without status label
CLOSED: [2025-09-12 Fri 21:48]
indenting an item under an item that is already a parent and which does not have a status label, does not add the counter
* DONE prevent setting a parent to done if it has unfinished children
CLOSED: [2025-09-12 Fri 22:16]
* DONE must not be able to add a new item by alt+enter if add is disabled
CLOSED: [2025-09-12 Fri 22:20]
* DONE agenda view rendering should not be a web component?
CLOSED: [2025-09-13 Sat 08:27]
I only need the web component to capture the complicated interactions. If each
task item is a web component with it's own interaction, then the layout
rendering of the agenda should be driven by the backend. Including changing
views - those are new queries to the backend.

We might need the agenda web component for navigation and shortcuts for queries.
Or possibly datastar signals in the html is enough to detect this?
* DONE bug: attempt again to fix issue with hover items showing on parents when hovering child
CLOSED: [2025-09-13 Sat 08:27]
* DONE simple drag and drop
CLOSED: [2025-09-13 Sat 08:55]
* DONE drag and drop the whole thing, removing the drag handle
CLOSED: [2025-09-13 Sat 18:05]
Kan make drag and drop default on.
* DONE should be able to navigate up/down with emacs/vi keys in popup as well: status, tags, assign
CLOSED: [2025-09-16 Tue 15:21]
* DONE "Add to private worklog" -> "Add to my worklog"
CLOSED: [2025-09-16 Tue 16:06]
* DONE progress bar visual for the counter [/]
CLOSED: [2025-09-16 Tue 16:06]
..although takes a bit more space..
* DONE "blocked" -> "on hold", key and underline "h"
CLOSED: [2025-09-18 Thu 08:36]
* CANCELLED outline can take optional info about org/workspace and project
CLOSED: [2025-09-18 Thu 10:52]
If provided should be rendered in some subtle, but informative way.
Workspace and project names can be long.
* DONE double check that I'm happy with outline item data format
CLOSED: [2025-09-18 Thu 13:20]
..will at some point forever by locked to this structure
* DONE read only task can be drag and dropped - must prevent
CLOSED: [2025-09-18 Thu 13:41]
* DONE initial creation of capture component
CLOSED: [2025-09-19 Fri 10:48]
* DONE action to "move" on item - just emits event
CLOSED: [2025-09-19 Fri 12:53]
Intent is "refile subtree" functionality, moving task item from one outline to another.

"move" action item, underline "m", shortcut "m".
* CANCELLED emit full json in events, option?
CLOSED: [2025-09-19 Fri 14:25]
Do I need this, or can I emit and store just the minimum amount of data?
Easy to add as an option, turned off by default, where on every event we also emit the whole outline as JSON.
* CANCELLED allow custom key bindings for all keyboard interactions?
CLOSED: [2025-09-19 Fri 14:25]
Pass in override key bindings.
First for movement only, i.e. moving focus, moving items
* DONE rename repo to "clarity-components"
CLOSED: [2025-09-19 Fri 14:45]
- [X] rename repo
- [X] update readme
- [X] update local project
* DONE collapse/expand with tab
CLOSED: [2025-09-25 Thu 07:01]
* DONE nav up down including children if expanded
CLOSED: [2025-09-25 Thu 07:01]
* DONE right click item shows full menu of options
CLOSED: [2025-09-25 Thu 12:54]
* DONE outline should start collapsed
CLOSED: [2025-09-25 Thu 18:37]
* TODO supporting repeating tasks, schedules/due dates that reoccur
<2025-09-18 Thu 09:59> Did an attempt at this, but gets complicated and would
need serious thought about how the UX should work. The org-mode way with "++1d"
etc works, but is a bit complicated to understand. And the task just going back
to TODO when you set it to DONE is also a behavior you have to get used to.
* TODO try removing the action hover items
- make it an optional config to show these (always show if data is set for the action, e.g. priority is set, but don't show the action buttons to set priority if not set)

<2025-09-25 Thu 16:11> Did a stunt at this. Branc: hide-hover-actions. It's a cleaner look, but it got a bit complex with rules on when to show or not.

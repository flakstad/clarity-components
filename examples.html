<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Outline Component Examples</title>
  <style>
    /* Demo page styling */
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    /* Page theme variables */
    :root {
      /* Default dark theme for page */
      --bg-primary: #1e1e1e;
      --bg-secondary: #2d2d2d;
      --bg-tertiary: #333333;
      --text-primary: #f8f8f2;
      --text-secondary: #ddd;
      --text-muted: #888;
      --border: #555;
      --hover: rgba(255, 255, 255, 0.05);

      /* Web component will use its own defaults */
    }

    /* Light theme */
    @media (prefers-color-scheme: light) {
      :root {
        /* Light theme for page */
        --bg-primary: #ffffff;
        --bg-secondary: #f8f9fa;
        --bg-tertiary: #e9ecef;
        --text-primary: #212529;
        --text-secondary: #6c757d;
        --text-muted: #adb5bd;
        --border: #dee2e6;
        --hover: rgba(0, 0, 0, 0.05);

        /* Web component will use its own defaults */
      }
    }

    .demo-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .demo-section {
      margin-bottom: 4rem;
      padding: 2rem 0;
    }

    .demo-section h2 {
      margin-top: 0;
      margin-bottom: 1rem;
      font-size: 1.8rem;
      color: var(--text-primary);
    }

    .demo-section h3 {
      margin-top: 2rem;
      margin-bottom: 1rem;
      font-size: 1.2rem;
      color: var(--text-secondary);
    }

    .code-block {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1rem;
      margin: 1rem 0;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
      overflow-x: auto;
      color: var(--text-primary);
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 0.5rem;
      color: var(--text-primary);
      cursor: pointer;
      font-family: inherit;
    }

    .theme-toggle:hover {
      background: var(--hover);
    }

    /* Custom theme examples removed - using component defaults */
  </style>
</head>
<body>

<div class="theme-toggle" onclick="toggleTheme()">
  🌓 Toggle Theme
</div>

<div class="demo-container">


  <div class="demo-section">
    <h2>Empty Outline</h2>
    <p style="margin: 1rem 0; color: var(--text-primary);">Start with an empty outline and add tasks using the + button.</p>

    <clarity-outline
      id="empty-outline"
      data-assignees='["alice", "bob", "charlie"]'
      data-tags='["urgent", "bug", "feature", "docs"]'
      data-status-labels='[
        {"label": "TODO", "isEndState": false},
        {"label": "IN PROGRESS", "isEndState": false},
        {"label": "DONE", "isEndState": true}
      ]'>
    </clarity-outline>
  </div>

  <div class="demo-section">
    <h2>Sample Data</h2>
    <p style="margin: 1rem 0; color: var(--text-primary);">An outline with various task types, priorities, assignments, and nested items.</p>
  
    <clarity-outline
      id="sample-outline"
      data-items='[
        {
          "id": "1",
          "text": "Buy groceries",
          "status": "TODO"
        },
        {
          "id": "2",
          "text": "Do the thing that must be done",
          "status": "TODO",
          "priority": true
        },
        {
          "id": "3",
          "text": "Review pull request",
          "status": "DONE",
          "tags": ["urgent", "review"]
        },
        {
          "id": "4",
          "text": "Setup development environment",
          "status": "IN PROGRESS",
          "assign": "bob"
        },
        {
          "id": "5",
          "text": "Write documentation",
          "status": "TODO",
          "schedule": "Jan 5",
          "tags": ["docs", "feature"]
        },
        {
          "id": "6",
          "text": "Project Planning",
          "status": "none",
          "noLabel": true,
          "children": [
            {
              "id": "7",
              "text": "Define requirements",
              "status": "TODO",
              "schedule": "Jan 2"
            },
            {
              "id": "8",
              "text": "Create wireframes",
              "status": "TODO",
              "assign": "diana",
              "tags": ["design", "ui"]
            }
          ]
        },
        {
          "id": "9",
          "text": "Fix critical bug",
          "status": "TODO",
          "priority": true,
          "blocked": true,
          "tags": ["urgent", "bug"]
        },
        {
          "id": "10",
          "text": "Cancelled feature",
          "status": "CANCELLED",
          "assign": "diana",
          "tags": ["feature", "cancelled"]
        },
        {
          "id": "11",
          "text": "Read-only task (try editing this!)",
          "status": "TODO",
          "editable": false,
          "priority": true,
          "tags": ["readonly"]
        }
      ]'
      data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank"]'
      data-tags='["urgent", "bug", "feature", "docs", "review", "ui", "backend", "testing", "readonly", "completed"]'
      data-status-labels='[
        {"label": "TODO", "isEndState": false},
        {"label": "IN PROGRESS", "isEndState": false},
        {"label": "DONE", "isEndState": true},
        {"label": "CANCELLED", "isEndState": true}
      ]'>
    </clarity-outline>
    
  </div>

  <!-- Drag and Drop Demo -->
  <div class="demo-section">
    <h2>Drag and Drop Reordering</h2>
    <p style="margin: 1rem 0; color: var(--text-primary);">Enable drag-and-drop reordering by setting the <code>dragAndDrop</code> feature to <code>true</code>. The sortable.js library will be loaded dynamically only when this feature is enabled.</p>
    
    <clarity-outline
      id="drag-drop-outline"
      data-items='[
        {
          "id": "dd-1",
          "text": "First task - drag me around!",
          "status": "TODO",
          "priority": true
        },
        {
          "id": "dd-2",
          "text": "Second task with assignment",
          "status": "IN PROGRESS",
          "assign": "alice"
        },
        {
          "id": "dd-3",
          "text": "Third task with tags",
          "status": "TODO",
          "tags": ["urgent", "feature"]
        },
        {
          "id": "dd-4",
          "text": "Fourth task - completed",
          "status": "DONE"
        },
        {
          "id": "dd-5",
          "text": "Fifth task with due date",
          "status": "TODO",
          "due": "Jan 15",
          "blocked": true
        }
      ]'
      data-assignees='["alice", "bob", "charlie", "diana"]'
      data-tags='["urgent", "bug", "feature", "docs", "review"]'
      data-status-labels='[
        {"label": "TODO", "isEndState": false},
        {"label": "IN PROGRESS", "isEndState": false},
        {"label": "DONE", "isEndState": true}
      ]'
      data-features='{
        "dragAndDrop": true
      }'>
    </clarity-outline>
    
    <div class="code-block">
      &lt;clarity-outline
        data-features='{"dragAndDrop": true}'
        data-items='[...]'&gt;
      &lt;/clarity-outline&gt;
    </div>
  </div>

  <!-- Rich Text Editor Demo -->
  <div class="demo-section">
    <h2>Inline in Text Document</h2>
    <p style="margin: 1rem 0; color: var(--text-primary);">Individual tasks embedded within rich text content, with navigation and reordering disabled.</p>
    <div style="padding: 2rem; border: 1px solid var(--border); line-height: 1.8;">
      
      <p style="margin: 1rem 0; color: var(--text-primary);">
        This quarter we need to focus on several key initiatives. Here are the main tasks:
      </p>
      
      <clarity-outline id="rich-text-task-1" style="margin: 1rem 0;" 
        data-items='[{
          "id": "rt-1",
          "text": "Implement new user authentication system",
          "status": "TODO",
          "priority": "high",
          "due": "2024-01-15",
          "editable": false,
          "assign": "john@example.com"
        }]'
        data-features='{
          "addButton": false,
          "navigation": false,
          "reorder": false
        }'>
      </clarity-outline>
      
      <p style="margin: 1rem 0; color: var(--text-primary);">
        The backend infrastructure also needs attention. We should prioritize:
      </p>
      
      <clarity-outline id="rich-text-task-2" style="margin: 1rem 0;"
        data-items='[{
          "id": "rt-2",
          "text": "Optimize database queries for better performance",
          "status": "IN PROGRESS",
          "blocked": true,
          "assign": "sarah@example.com"
        }]'
        data-features='{
          "addButton": false,
          "navigation": false,
          "reorder": false
        }'>
      </clarity-outline>
      
      <p style="margin: 1rem 0; color: var(--text-primary);">
        Finally, for the user experience improvements:
      </p>
      
      <clarity-outline id="rich-text-task-3" style="margin: 1rem 0;"
        data-items='[{
          "id": "rt-3",
          "text": "Redesign the settings page with improved UX",
          "status": "TODO",
          "tags": ["ui", "ux", "frontend"]
        }]'
        data-features='{
          "addButton": false,
          "navigation": false,
          "reorder": false
        }'>
      </clarity-outline>
      
      <p style="margin: 1rem 0; color: var(--text-primary);">
        These embedded tasks maintain all their functionality - you can change status, set due dates, assign people, etc., 
        but without the navigation and reordering features that would be disruptive in a document context.
      </p>
    </div>
  </div>

  <!-- Agenda Demo Section -->
  <div class="demo-section">
    <h2>Agenda View</h2>
    <p style="margin: 1rem 0; color: var(--text-primary);">Individual <code>&lt;clarity-outline&gt;</code> components arranged to create an org-agenda-style interface.</p>
        
      <div style="padding: 1rem; margin: 1rem 0;">
      
      <!-- Agenda Header -->
      <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; margin-bottom: 1rem;">
        <h3 style="margin: 0; font-size: 1.2rem; color: var(--text-primary);" id="agenda-view-title">Week of Sep 9, 2024</h3>
        <div style="display: flex; flex-direction: column; gap: 0.5rem; align-items: flex-end;">
          <div style="display: flex; gap: 0.25rem; background: var(--bg-tertiary); border-radius: 6px; padding: 0.25rem;">
            <button style="background: none; border: none; color: var(--text-secondary); padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-family: inherit; font-size: 0.9rem;" onclick="switchAgendaView('day')" id="agenda-day-btn">Day</button>
            <button style="background: var(--bg-primary); color: var(--text-primary); font-weight: bold; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-family: inherit; font-size: 0.9rem;" onclick="switchAgendaView('week')" id="agenda-week-btn">Week</button>
            <button style="background: none; border: none; color: var(--text-secondary); padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-family: inherit; font-size: 0.9rem;" onclick="switchAgendaView('all-tasks')" id="agenda-all-btn">All Tasks</button>
          </div>
        </div>
      </div>
      
      <!-- Day View -->
      <div id="agenda-day-view" style="display: none;">
        <div style="display: flex; flex-direction: column;">
          <!-- 02:00 AM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">02:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);"></div>
          </div>
          
          <!-- 04:00 AM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">04:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);"></div>
          </div>
          
          <!-- 06:00 AM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">06:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);"></div>
          </div>
          
          <!-- 08:00 AM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">08:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);"></div>
          </div>
          
          <!-- 09:00 AM (Task-specific time) -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">09:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);">
              <clarity-outline 
                data-items='[{"id":"agenda-1","text":"Team standup meeting","status":"TODO","assign":"team","tags":["meeting"],"schedule":"Sep 9 09:00"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
          
          <!-- 10:00 AM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">10:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);"></div>
          </div>
          
          <!-- 10:30 AM (Task-specific time) -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">10:30</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);">
              <clarity-outline 
                data-items='[{"id":"agenda-2","text":"Review pull requests","status":"TODO","priority":true,"assign":"alice","tags":["review","code"],"schedule":"Sep 9 10:30"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
          
          <!-- 11:00 AM (Task-specific time) -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">11:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);">
              <clarity-outline 
                data-items='[{"id":"agenda-3","text":"Create wireframes","status":"TODO","assign":"diana","tags":["design","wireframes"],"schedule":"Sep 9 11:00"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
          
          <!-- 12:00 PM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">12:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);"></div>
          </div>
          
          <!-- Now marker -->
          <div style="position: relative; background: #ff6b6b; height: 2px; margin: 0.5rem 0;">
            <span style="position: absolute; left: 0; top: -1rem; font-size: 0.8rem; font-weight: bold; color: #ff6b6b; background: var(--bg-primary); padding: 0 0.25rem;">Now</span>
          </div>
          
          <!-- 14:00 PM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">14:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);">
              <clarity-outline 
                data-items='[{"id":"agenda-4","text":"Client presentation","status":"TODO","assign":"team","tags":["presentation","client"],"schedule":"Sep 10 14:00"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
          
          <!-- 15:30 PM (Task-specific time) -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">15:30</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);">
              <clarity-outline 
                data-items='[{"id":"agenda-5","text":"Code review session","status":"TODO","assign":"bob","tags":["review"],"schedule":"Sep 11 15:30"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
          
          <!-- 16:00 PM -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">16:00</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);"></div>
          </div>
          
          <!-- Unscheduled Tasks -->
          <div style="display: flex; min-height: 2rem;">
            <div style="width: 4rem; padding: 0.25rem 0.5rem; background: var(--bg-tertiary); font-size: 0.8em; color: var(--text-muted); text-align: right;">Due</div>
            <div style="flex: 1; padding: 0.25rem 0.5rem; background: var(--bg-primary);">
              <clarity-outline 
                data-items='[{"id":"agenda-6","text":"Deploy to production","status":"TODO","assign":"alice","tags":["deployment","urgent"],"due":"Sep 9"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Week View -->
      <div id="agenda-week-view" style="display: block;">
        <div style="display: flex; flex-direction: column;">
          <!-- Monday - Today (Expanded) -->
          <div style="background: var(--bg-secondary); margin-bottom: 2rem; padding: 1rem; border-left: 3px solid #4a9eff;">
            <div style="font-weight: bold; font-size: 1em; color: #4a9eff; margin-bottom: 1rem;">Monday, Sep 9 (Today)</div>
            <div style="padding-left: 0.75rem;">
              <!-- Time slots for today -->
              <div style="display: flex; min-height: 2rem;">
                <div style="width: 4rem; padding: 0.25rem 0.5rem; font-size: 0.8em; color: var(--text-muted); text-align: right;">09:00</div>
                <div style="flex: 1; padding: 0.25rem 0.5rem;">
                  <clarity-outline 
                    data-items='[{"id":"agenda-w1","text":"Team standup meeting","status":"TODO","assign":"team","tags":["meeting"],"schedule":"Sep 9 09:00"}]'
                    data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                    data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                    data-status-labels='[
                      {"label": "TODO", "isEndState": false},
                      {"label": "IN PROGRESS", "isEndState": false},
                      {"label": "BLOCKED", "isEndState": false},
                      {"label": "DONE", "isEndState": true}
                    ]'
                    data-features='{
                      "addButton": false,
                      "navigation": false,
                      "reorder": false
                    }'>
                  </clarity-outline>
                </div>
              </div>
              
              <div style="display: flex; min-height: 2rem;">
                <div style="width: 4rem; padding: 0.25rem 0.5rem; font-size: 0.8em; color: var(--text-muted); text-align: right;">10:30</div>
                <div style="flex: 1; padding: 0.25rem 0.5rem;">
                  <clarity-outline 
                    data-items='[{"id":"agenda-w2","text":"Review pull requests","status":"TODO","priority":true,"assign":"alice","tags":["review","code"],"schedule":"Sep 9 10:30"}]'
                    data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                    data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                    data-status-labels='[
                      {"label": "TODO", "isEndState": false},
                      {"label": "IN PROGRESS", "isEndState": false},
                      {"label": "BLOCKED", "isEndState": false},
                      {"label": "DONE", "isEndState": true}
                    ]'
                    data-features='{
                      "addButton": false,
                      "navigation": false,
                      "reorder": false
                    }'>
                  </clarity-outline>
                </div>
              </div>
              
              <div style="display: flex; min-height: 2rem;">
                <div style="width: 4rem; padding: 0.25rem 0.5rem; font-size: 0.8em; color: var(--text-muted); text-align: right;">11:00</div>
                <div style="flex: 1; padding: 0.25rem 0.5rem;">
                  <clarity-outline 
                    data-items='[{"id":"agenda-w3","text":"Create wireframes","status":"TODO","assign":"diana","tags":["design","wireframes"],"schedule":"Sep 9 11:00"}]'
                    data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                    data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                    data-status-labels='[
                      {"label": "TODO", "isEndState": false},
                      {"label": "IN PROGRESS", "isEndState": false},
                      {"label": "BLOCKED", "isEndState": false},
                      {"label": "DONE", "isEndState": true}
                    ]'
                    data-features='{
                      "addButton": false,
                      "navigation": false,
                      "reorder": false
                    }'>
                  </clarity-outline>
                </div>
              </div>
              
              <div style="position: relative; background: #ff6b6b; height: 2px; margin: 0.5rem 0;">
                <span style="position: absolute; left: 0; top: -1rem; font-size: 0.8rem; font-weight: bold; color: #ff6b6b; background: var(--bg-primary); padding: 0 0.25rem;">Now</span>
              </div>
              
              <div style="display: flex; min-height: 2rem;">
                <div style="width: 4rem; padding: 0.25rem 0.5rem; font-size: 0.8em; color: var(--text-muted); text-align: right;">Due</div>
                <div style="flex: 1; padding: 0.25rem 0.5rem;">
                  <clarity-outline 
                    data-items='[{"id":"agenda-w4","text":"Deploy to production","status":"TODO","assign":"alice","tags":["deployment","urgent"],"due":"Sep 9"}]'
                    data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                    data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                    data-status-labels='[
                      {"label": "TODO", "isEndState": false},
                      {"label": "IN PROGRESS", "isEndState": false},
                      {"label": "BLOCKED", "isEndState": false},
                      {"label": "DONE", "isEndState": true}
                    ]'
                    data-features='{
                      "addButton": false,
                      "navigation": false,
                      "reorder": false
                    }'>
                  </clarity-outline>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Tuesday -->
          <div style="background: var(--bg-primary); padding: 0.5rem 0;">
            <div style="font-weight: bold; font-size: 1em; color: var(--text-primary); margin-bottom: 0.25rem; padding: 0 0.75rem;">Tuesday, Sep 10</div>
            <div style="padding-left: calc(0.75rem + 1rem);">
              <clarity-outline 
                data-items='[{"id":"agenda-w5","text":"Client presentation","status":"TODO","assign":"team","tags":["presentation","client"],"schedule":"Sep 10 14:00"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
          
          <!-- Wednesday -->
          <div style="background: var(--bg-primary); padding: 0.5rem 0;">
            <div style="font-weight: bold; font-size: 1em; color: var(--text-primary); margin-bottom: 0.25rem; padding: 0 0.75rem;">Wednesday, Sep 11</div>
            <div style="padding-left: calc(0.75rem + 1rem);">
              <clarity-outline 
                data-items='[{"id":"agenda-w6","text":"Code review session","status":"TODO","assign":"bob","tags":["review"],"schedule":"Sep 11 15:30"}]'
                data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
                data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
                data-status-labels='[
                  {"label": "TODO", "isEndState": false},
                  {"label": "IN PROGRESS", "isEndState": false},
                  {"label": "BLOCKED", "isEndState": false},
                  {"label": "DONE", "isEndState": true}
                ]'
                data-features='{
                  "addButton": false,
                  "navigation": false,
                  "reorder": false
                }'>
              </clarity-outline>
            </div>
          </div>
        </div>
      </div>
      
      <!-- All Tasks View -->
      <div id="agenda-all-view" style="display: none;">
        <div style="display: flex; flex-direction: column;">
          <clarity-outline 
            data-items='[{"id":"agenda-a1","text":"Client presentation","status":"TODO","assign":"team","tags":["presentation","client"],"schedule":"Sep 10 14:00"}]'
            data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
            data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
            data-status-labels='[
              {"label": "TODO", "isEndState": false},
              {"label": "IN PROGRESS", "isEndState": false},
              {"label": "BLOCKED", "isEndState": false},
              {"label": "DONE", "isEndState": true}
            ]'
            data-features='{
              "addButton": false,
              "navigation": false,
              "reorder": false
            }'>
          </clarity-outline>
          <clarity-outline 
            data-items='[{"id":"agenda-a2","text":"Code review session","status":"TODO","assign":"bob","tags":["review"],"schedule":"Sep 11 15:30"}]'
            data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
            data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
            data-status-labels='[
              {"label": "TODO", "isEndState": false},
              {"label": "IN PROGRESS", "isEndState": false},
              {"label": "BLOCKED", "isEndState": false},
              {"label": "DONE", "isEndState": true}
            ]'
            data-features='{
              "addButton": false,
              "navigation": false,
              "reorder": false
            }'>
          </clarity-outline>
          <clarity-outline 
            data-items='[{"id":"agenda-a3","text":"Create wireframes","status":"TODO","assign":"diana","tags":["design","wireframes"],"schedule":"Sep 9 11:00"}]'
            data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
            data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
            data-status-labels='[
              {"label": "TODO", "isEndState": false},
              {"label": "IN PROGRESS", "isEndState": false},
              {"label": "BLOCKED", "isEndState": false},
              {"label": "DONE", "isEndState": true}
            ]'
            data-features='{
              "addButton": false,
              "navigation": false,
              "reorder": false
            }'>
          </clarity-outline>
          <clarity-outline 
            data-items='[{"id":"agenda-a4","text":"Deploy to production","status":"TODO","assign":"alice","tags":["deployment","urgent"],"due":"Sep 9"}]'
            data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
            data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
            data-status-labels='[
              {"label": "TODO", "isEndState": false},
              {"label": "IN PROGRESS", "isEndState": false},
              {"label": "BLOCKED", "isEndState": false},
              {"label": "DONE", "isEndState": true}
            ]'
            data-features='{
              "addButton": false,
              "navigation": false,
              "reorder": false
            }'>
          </clarity-outline>
          <clarity-outline 
            data-items='[{"id":"agenda-a5","text":"Review pull requests","status":"TODO","priority":true,"assign":"alice","tags":["review","code"],"schedule":"Sep 9 10:30"}]'
            data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
            data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
            data-status-labels='[
              {"label": "TODO", "isEndState": false},
              {"label": "IN PROGRESS", "isEndState": false},
              {"label": "BLOCKED", "isEndState": false},
              {"label": "DONE", "isEndState": true}
            ]'
            data-features='{
              "addButton": false,
              "navigation": false,
              "reorder": false
            }'>
          </clarity-outline>
          <clarity-outline 
            data-items='[{"id":"agenda-a6","text":"Team standup meeting","status":"TODO","assign":"team","tags":["meeting"],"schedule":"Sep 9 09:00"}]'
            data-assignees='["alice", "bob", "charlie", "diana", "eve", "frank", "team", "ops"]'
            data-tags='["meeting", "review", "code", "design", "wireframes", "presentation", "client", "deployment", "urgent", "maintenance", "docs", "backend", "api", "mobile", "auth", "frontend", "responsive", "optimization", "bug", "critical", "setup", "icons", "notifications", "offline", "sync", "database", "monitoring", "planning", "devops", "security", "migration", "performance", "research", "testing", "staging", "production"]'
            data-status-labels='[
              {"label": "TODO", "isEndState": false},
              {"label": "IN PROGRESS", "isEndState": false},
              {"label": "BLOCKED", "isEndState": false},
              {"label": "DONE", "isEndState": true}
            ]'
            data-features='{
              "addButton": false,
              "navigation": false,
              "reorder": false
            }'>
          </clarity-outline>
        </div>
      </div>
      
    </div>        
  </div>

</div>

<script src="outline.js"></script>
<script>
  // Theme toggle functionality
  let currentTheme = 'auto';

  function toggleTheme() {
    const themes = ['auto', 'light', 'dark'];
    const currentIndex = themes.indexOf(currentTheme);
    const nextIndex = (currentIndex + 1) % themes.length;
    currentTheme = themes[nextIndex];

    console.log('Switching to theme:', currentTheme);

    const root = document.documentElement;

    // Set theme attribute on all clarity-outline components
    const outlines = document.querySelectorAll('clarity-outline');
    outlines.forEach(outline => {
      outline.setAttribute('theme', currentTheme);
    });

    if (currentTheme === 'auto') {
      // Remove any forced theme and let CSS media queries handle it
      root.removeAttribute('data-theme');
      // Remove page theme properties
      const properties = [
        '--bg-primary', '--bg-secondary', '--bg-tertiary', '--text-primary', '--text-secondary', '--text-muted', '--border', '--hover'
      ];
      properties.forEach(prop => root.style.removeProperty(prop));
    } else if (currentTheme === 'light') {
      // Force light theme for page
      root.setAttribute('data-theme', 'light');
      root.style.setProperty('--bg-primary', '#ffffff');
      root.style.setProperty('--bg-secondary', '#f8f9fa');
      root.style.setProperty('--bg-tertiary', '#e9ecef');
      root.style.setProperty('--text-primary', '#212529');
      root.style.setProperty('--text-secondary', '#6c757d');
      root.style.setProperty('--text-muted', '#adb5bd');
      root.style.setProperty('--border', '#dee2e6');
      root.style.setProperty('--hover', 'rgba(0, 0, 0, 0.05)');
    } else if (currentTheme === 'dark') {
      // Force dark theme for page
      root.setAttribute('data-theme', 'dark');
      root.style.setProperty('--bg-primary', '#1e1e1e');
      root.style.setProperty('--bg-secondary', '#2d2d2d');
      root.style.setProperty('--bg-tertiary', '#333333');
      root.style.setProperty('--text-primary', '#f8f8f2');
      root.style.setProperty('--text-secondary', '#ddd');
      root.style.setProperty('--text-muted', '#888');
      root.style.setProperty('--border', '#555');
      root.style.setProperty('--hover', 'rgba(255, 255, 255, 0.05)');
    }

    // Update button text
    const button = document.querySelector('.theme-toggle');
    const icons = ['🌓', '☀️', '🌙'];
    button.innerHTML = `${icons[nextIndex]} ${currentTheme.charAt(0).toUpperCase() + currentTheme.slice(1)} Theme`;
  }

  // Initialize all outline components
  const outlines = document.querySelectorAll('clarity-outline');

  outlines.forEach(outline => {
    // Log events for debugging
    const events = [
      'outline:add', 'outline:toggle', 'outline:move', 'outline:indent', 'outline:outdent',
      'outline:collapse', 'outline:expand', 'outline:edit:start', 'outline:edit:save',
      'outline:edit:cancel', 'outline:due', 'outline:assign', 'outline:tags',
              'outline:priority', 'outline:blocked', 'outline:open', 'outline:permission-denied'
    ];

    events.forEach(eventName => {
      outline.addEventListener(eventName, e => {
        console.log(`${outline.id}: ${eventName}`, e.detail);
      });
    });
  });

  // Add specific event listener for drag-and-drop demo
  const dragDropOutline = document.getElementById('drag-drop-outline');
  if (dragDropOutline) {
    dragDropOutline.addEventListener('outline:move', e => {
      console.log('🔄 Item reordered via drag-and-drop:', {
        item: e.detail.item.querySelector('.outline-text')?.textContent,
        from: e.detail.oldIndex,
        to: e.detail.newIndex,
        direction: e.detail.direction
      });
    });
  }

  // Add event listeners for the new comments and worklog features
  const newFeatureOutlines = document.querySelectorAll('clarity-outline');
  newFeatureOutlines.forEach(outline => {
    outline.addEventListener('outline:comment', e => {
      console.log('New comment added:', e.detail);
    });

    outline.addEventListener('outline:worklog', e => {
      console.log('New worklog entry added:', e.detail);
    });

    outline.addEventListener('outline:archive', e => {
      console.log('Item archived:', e.detail);
    });

    // Listen for permission denied events
    outline.addEventListener('outline:permission-denied', e => {
      console.log('Permission denied for item:', e.detail.id, 'action:', e.detail.action);
      // You could show a toast notification or other UI feedback here
    });
  });

  // The constrained outline demos now use <clarity-outline> web components
  // which initialize themselves automatically with the data-options attribute

  // Agenda view switching functionality
  function switchAgendaView(view) {
    // Hide all agenda views
    document.getElementById('agenda-day-view').style.display = 'none';
    document.getElementById('agenda-week-view').style.display = 'none';
    document.getElementById('agenda-all-view').style.display = 'none';
    
    // Show selected view
    if (view === 'all-tasks') {
      document.getElementById('agenda-all-view').style.display = 'block';
    } else {
      document.getElementById('agenda-' + view + '-view').style.display = 'block';
    }
    
    // Update button states
    document.getElementById('agenda-day-btn').style.background = 'none';
    document.getElementById('agenda-day-btn').style.color = 'var(--text-secondary)';
    document.getElementById('agenda-day-btn').style.fontWeight = 'normal';
    
    document.getElementById('agenda-week-btn').style.background = 'none';
    document.getElementById('agenda-week-btn').style.color = 'var(--text-secondary)';
    document.getElementById('agenda-week-btn').style.fontWeight = 'normal';
    
    document.getElementById('agenda-all-btn').style.background = 'none';
    document.getElementById('agenda-all-btn').style.color = 'var(--text-secondary)';
    document.getElementById('agenda-all-btn').style.fontWeight = 'normal';
    
    // Activate selected button
    let activeBtn;
    if (view === 'all-tasks') {
      activeBtn = document.getElementById('agenda-all-btn');
    } else {
      activeBtn = document.getElementById('agenda-' + view + '-btn');
    }
    activeBtn.style.background = 'var(--bg-primary)';
    activeBtn.style.color = 'var(--text-primary)';
    activeBtn.style.fontWeight = 'bold';
    
    // Update title
    const titles = {
      'day': 'Monday, Sep 9, 2024',
      'week': 'Week of Sep 9, 2024', 
      'all-tasks': 'All Tasks'
    };
    document.getElementById('agenda-view-title').textContent = titles[view];
  }
</script>

</body>
</html>
